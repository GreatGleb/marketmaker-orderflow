# marketmaker-orderflow

üìà **marketmaker-orderflow** ‚Äî –º–æ–¥—É–ª—å–Ω—ã–π Python-–±–æ—Ç –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä–∫–µ—Ç–º–µ–π–∫–∏–Ω–≥–∞ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —Ä–∞–±–æ—Ç—É —Å –æ—Ä–¥–µ—Ä-—Ñ–ª–æ—É –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ª–∏–º–∏—Ç–Ω—ã–º–∏ –∑–∞—è–≤–∫–∞–º–∏. –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –±–∏—Ä–∂–µ–∑–∞–≤–∏—Å–∏–º—ã–π, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ä–∞–∑–Ω—ã–º —Ç–æ—Ä–≥–æ–≤—ã–º –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º —á–µ—Ä–µ–∑ REST API, Websockets

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ç–æ—Ä–≥–æ–≤—ã–º –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º, –∑–∞–ø–∏—Å—å –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω
- –†–∞–±–æ—Ç–∞ —Å –ª–∏–º–∏—Ç–Ω—ã–º–∏ –æ—Ä–¥–µ—Ä–∞–º–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–∫–∞–Ω–æ–º, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –º–∞—Ä–∫–µ—Ç–º–µ–π–∫–∏–Ω–≥–∞ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Å–ø—Ä–µ–¥ –∏ –¥—Ä.)
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–¥–µ–ª–æ–∫ –∏ –æ—Ä–¥–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ SQLAlchemy
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Docker
- –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ `.env`
- üì± **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏ —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.10+
- Docker / docker-compose
- SQLAlchemy + PostgreSQL
- REST API, Websockets
- .env –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/your-username/marketmaker-orderflow.git
cd marketmaker-orderflow
cp .env.example .env
./run.sh start

./run.sh init
```
> ‚ö†Ô∏è **–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –≤ `.env` –¥–∞–Ω–Ω—ã–µ API –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.**

## üõ† –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

```bash
docker exec -it orderflow_general python -m app.scripts.watch_ws_and_save

docker exec -it orderflow_general python -m app.scripts.start_test_bots

docker exec -it orderflow_general python -m app.scripts.top_bots_report

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
docker exec -it orderflow_general python -m app.scripts.test_telegram_notifications
```

---

## üí° –°—Ç—Ä–∞—Ç–µ–≥–∏–∏

- üîÑ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Å–ø—Ä–µ–¥** ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Å–ø—Ä–µ–¥–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏, –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏–ª–∏ –≥–ª—É–±–∏–Ω—ã —Ä—ã–Ω–∫–∞.
- üß† **ML/AI —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏** ‚Äî (–≤ –ø–ª–∞–Ω–∞—Ö) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω.
- ‚öôÔ∏è **–ü–ª–∞–≥–∏–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** ‚Äî (–≤ –ø–ª–∞–Ω–∞—Ö) –≤—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤ –ø–∞–ø–∫—É `/strategies`.

---

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (—á–µ—Ä–µ–∑ REST API)
2. –†–∞—Å—á—ë—Ç mid-—Ü–µ–Ω—ã –∏ —Ü–µ–ª–µ–≤—ã—Ö bid/ask –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
3. –†–∞–∑–º–µ—â–µ–Ω–∏–µ –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
4. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤
5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∑–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
6. üì± –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram –æ–± –æ—à–∏–±–∫–∞—Ö —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± environment

## üì± Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –æ:
- ‚ùå –û—à–∏–±–∫–∞—Ö –≤ —Ä–∞–±–æ—Ç–µ –±–æ—Ç–æ–≤
- üîß –û—à–∏–±–∫–∞—Ö Celery –∑–∞–¥–∞—á
- üåç Environment –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (local, staging, production)

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ —Ç–µ–º–∞–º (Topics)

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã –æ–¥–Ω–æ–≥–æ —Ñ–æ—Ä—É–º-—á–∞—Ç–∞:
- **TEST_BOT** - –¥–ª—è –æ—à–∏–±–æ–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–æ—Ç–æ–≤
- **CELERY_ERROR** - –¥–ª—è –æ—à–∏–±–æ–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á Celery

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather –≤ Telegram
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–æ—Ä—É–º-—á–∞—Ç (–≥—Ä—É–ø–ø—É —Å —Ç–µ–º–∞–º–∏)
3. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–º—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
4. –ü–æ–ª—É—á–∏—Ç–µ ID —á–∞—Ç–∞ –∏ ID —Ç–µ–º
5. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
   ```env
   TELEGRAM_BOT_TOKEN=your_bot_token_here
   TELEGRAM_CHAT_ID=your_chat_id_here
   TELEGRAM_TEST_BOT_TOPIC_ID=your_test_bot_topic_id_here
   TELEGRAM_CELERY_TOPIC_ID=your_celery_topic_id_here
   ```
6. –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [TELEGRAM_SETUP.md](general/TELEGRAM_SETUP.md)

## üìÖ –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- [x] –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, README.md 
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Binance Futures WebSockets - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –≤—Å–µ–º –æ–±—ä—ë–º–Ω—ã–º –∫–æ—Ç–∏—Ä–æ–≤–∫–∞–º –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 —Å—É—Ç–æ–∫
- [ ] –ê–Ω–∞–ª–∏–∑ –≤–∞–ª—é—Ç–Ω—ã—Ö –ø–∞—Ä, –∫–æ—Ç–∏—Ä–æ–≤–æ–∫, –æ–±—ä—ë–º–æ–≤, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç.–¥.
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞–º–∏
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –±–∞–ª–∞–Ω—Å–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –±–∞–ª–∞–Ω—Å–æ–º
- [ ] UI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞  

---

## üì¨ –ö–æ–Ω—Ç–∞–∫—Ç—ã

- Email: [greatgleb@gmail.com](mailto:greatgleb@gmail)  
- Telegram: [https://t.me/greatgleb](https://t.me/greatgleb)
